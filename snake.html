<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Snake Game</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
html,body{margin:0;height:100%;background:black;font-family:Arial;color:white;overflow:hidden}

canvas{position:fixed;top:0;left:0}

#game{z-index:2}

.glass{
position:fixed;
top:20px;left:50%;
transform:translateX(-50%);
background:rgba(255,255,255,0.08);
backdrop-filter:blur(15px);
border:1px solid rgba(255,255,255,.25);
border-radius:16px;
padding:15px 25px;
box-shadow:0 0 25px rgba(255,0,0,.4);
z-index:5;
display:flex;
gap:10px;
align-items:center;
}

button{
background:rgba(255,0,0,.2);
border:1px solid red;
color:white;
padding:8px 14px;
border-radius:10px;
cursor:pointer;
}

#info{
position:fixed;
bottom:20px;
left:50%;
transform:translateX(-50%);
background:rgba(255,255,255,0.08);
backdrop-filter:blur(12px);
border:1px solid rgba(255,255,255,.25);
border-radius:16px;
padding:12px 20px;
box-shadow:0 0 20px rgba(255,0,0,.4);
z-index:5;
}
</style>
</head>
<body>

<canvas id="rain"></canvas>
<canvas id="game" width="600" height="600"></canvas>

<div class="glass">
<b>Snake Game</b>
<select id="mode">
<option value="classic">Classic</option>
<option value="speed">Speed</option>
<option value="multi">Multiplayer</option>
</select>
<button onclick="startGame()">Start</button>
<button onclick="fullscreen()">Fullscreen</button>
</div>

<div id="info">
Player 1: Arrow keys<br>
Player 2: WASD (multiplayer)
</div>

<script>
/* ---------- Rain ---------- */
const rain=document.getElementById("rain"),rctx=rain.getContext("2d");
function resize(){rain.width=innerWidth;rain.height=innerHeight}
resize();onresize=resize;
let drops=[...Array(400)].map(()=>({x:Math.random()*rain.width,y:Math.random()*rain.height,s:6+Math.random()*8}));
function rainDraw(){
rctx.clearRect(0,0,rain.width,rain.height);
rctx.strokeStyle="rgba(255,0,0,.5)";
drops.forEach(d=>{
rctx.beginPath();
rctx.moveTo(d.x,d.y);
rctx.lineTo(d.x,d.y+12);
rctx.stroke();
d.y+=d.s;
if(d.y>rain.height)d.y=-10;
});
requestAnimationFrame(rainDraw);
}
rainDraw();

/* ---------- Game ---------- */
const c=document.getElementById("game"),ctx=c.getContext("2d");
const size=20;
let snakes,food,dx1,dy1,dx2,dy2,mode,speed,run=false;

function reset(){
snakes=[
[{x:200,y:200}],
[{x:380,y:380}]
];
dx1=1;dy1=0;dx2=-1;dy2=0;
food={x:300,y:300};
}

function startGame(){
mode=document.getElementById("mode").value;
speed=mode==="speed"?50:100;
reset();
run=true;
loop();
}

function draw(){
ctx.fillStyle="black";
ctx.fillRect(0,0,600,600);

ctx.fillStyle="lime";
ctx.fillRect(food.x,food.y,size,size);

snakes.forEach((s,i)=>{
ctx.fillStyle=i? "cyan":"red";
s.forEach(p=>ctx.fillRect(p.x,p.y,size,size));
});
}

function move(){
if(!run)return;
moveSnake(0,dx1,dy1);
if(mode==="multi")moveSnake(1,dx2,dy2);
}

function moveSnake(id,dx,dy){
let s=snakes[id];
let head={x:s[0].x+dx*size,y:s[0].y+dy*size};
s.unshift(head);
if(head.x===food.x&&head.y===food.y){
food={x:Math.floor(Math.random()*30)*20,y:Math.floor(Math.random()*30)*20};
}else s.pop();
}

function loop(){
if(!run)return;
move();
draw();
setTimeout(loop,speed);
}

document.addEventListener("keydown",e=>{
if(e.key==="ArrowUp"){dx1=0;dy1=-1}
if(e.key==="ArrowDown"){dx1=0;dy1=1}
if(e.key==="ArrowLeft"){dx1=-1;dy1=0}
if(e.key==="ArrowRight"){dx1=1;dy1=0}

if(e.key==="w"){dx2=0;dy2=-1}
if(e.key==="s"){dx2=0;dy2=1}
if(e.key==="a"){dx2=-1;dy2=0}
if(e.key==="d"){dx2=1;dy2=0}
});

function fullscreen(){
document.documentElement.requestFullscreen();
}
</script>
</body>
</html>
